# テストの自動化
---
Ansible ではテストを自動化することも可能です。特に大規模なテストや小さくても繰り返し実行されるテストを自動化することで大きな効果が期待できます。

ここでは、テストを実行する playbook の作成方法を見ていきます。

## テストに使えるモジュール、記述方法
---
まずはテストに使えるモジュールや表現方法を紹介します。

- [shell]() モジュール: 任意のコマンドを実行してその結果を回収します。
- [uri]() モジュール: 任意のURLにHTTPメソッドを発行する。
- [assert]() モジュール: 条件式を評価して真ならば ok を返す。
- [fail]() モジュール: 条件式を評価して真ならば failed を返す。
- [block ~ ignore_error]() 句: 

> Note: Ansible で構築・変更した環境を、Ansible 自体を使ってテストすることに違和感を覚える方もいるはずです。確かに、構築に使った playbook をもう一度流して全てが ok であることを確認することも可能ですが、この場合は Ansible のモジュール自体にバグがあったり、そもそもの playbook 自身が間違っていたら正しいテストは行なえません。しかし、完全に異なるツールを作ろうとすると、覚えることも増える上に、システムも複雑化してしまいます。そこでよく取られる方法として、「テストに Ansible を使うが、構築とは違うモジュールを使う」という考えがあります。上記のモジュールはその時によく使われます。


